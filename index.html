
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üìñ Nghe Truy·ªán Audio</title>
  <style>
    :root {
      --bg: #121212;
      --text: #ffffff;
      --primary: #3a3a3a;
      --card: #1e1e1e;
      --border: #2c2c2c;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }

    header {
      background: var(--primary);
      color: white;
      padding: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    #menuToggle {
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }

    #searchInput {
      flex: 1;
      padding: 6px;
      border-radius: 4px;
      border: none;
      outline: none;
      font-size: 16px;
    }

    main {
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .story-card {
      background: #222;
      border-radius: 10px;
      padding: 8px;
      cursor: pointer;
      transition: transform 0.2s ease;

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
      height: 100%;
    }

    .story-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    .story-card img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      object-fit: cover;

      width: 100px;
      height: 100px;
      border-radius: 8px;
      object-fit: cover;
      margin-bottom: 8px;
    }

    .story-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .story-info h3 {
  font-size: 14px;
  font-weight: bold;
  margin: 0;
  height: 36px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  color: #00bfff; /* üëà m√†u ch·ªØ m·ªõi */
}

    .story-info p {
      margin: 0;
      font-size: 13px;
      color: #bbb;
    }

    .audio-player {
      margin-top: 16px;
      background: #292929;
      padding: 12px;
      border-radius: 8px;
    }

    .audio-player .controls {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .audio-player button {
      background: #444;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .audio-player button:hover {
      background: #666;
    }

    .audio-player input[type="range"] {
      vertical-align: middle;
    }

    button.back-btn {
      margin-top: 20px;
      padding: 10px 16px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    #sidebar {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 250px;
      height: 100vh;
      background: #2a2a2a;
      color: white;
      z-index: 999;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.5);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }

    #sidebar.active {
      display: block;
      transform: translateX(0);
    }

    #overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 998;
    }

    #overlay.active {
      display: block;
    }

    .story-container {
      background: #1b1b1b;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
    }

    h2, h3 {
      margin: 0 0 8px;
    }

    .story-info button {
      margin-top: 6px;
      padding: 6px 12px;
      background: #f76da4;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .story-info .description-box {
      max-height: 60px;
      overflow: hidden;
      padding: 4px 6px;
      border-radius: 6px;
      background: #222;
      font-size: 14px;
      color: #ccc;
    }

    #storyList {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}
  
.pagination button {
  padding: 6px 12px;
  border: none;
  border-radius: 4px;
  background: #444;
  color: white;
  cursor: pointer;
}
.pagination button.active {
  background: #f76da4;
}

.support-admin {
  background: #1e1e1e;
  border: 1px solid var(--border);
  border-radius: 12px;
  margin: 20px 10px;
  padding: 16px;
  text-align: center;
  color: #fff;
}

.support-admin h3 {
  margin-bottom: 10px;
  color: #f76da4;
}

.support-admin .donate-buttons {
  margin-top: 10px;
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
}

.support-admin .donate-buttons button {
  background: #444;
  color: white;
  border: none;
  border-radius: 6px;
  padding: 10px 16px;
  cursor: pointer;
  font-size: 14px;
}

.support-admin .donate-buttons button:hover {
  background: #666;
}

.footer {
  background: #111;
  color: white;
  padding: 20px 10px;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  font-size: 14px;
  margin-top: 30px;
  border-top: 1px solid var(--border);
}

.footer-column {
  flex: 1 1 200px;
  padding: 10px;
}

.footer-column h4 {
  color: #f76da4;
  margin-bottom: 10px;
}

.footer-column ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-column ul li {
  margin-bottom: 6px;
  border-bottom: 1px solid #333;
  padding-bottom: 4px;
}

</style>
</head>
<body>
  <div id="sidebar">
    <h2>üìö Menu</h2>
    <ul>
      <li onclick="showTab('home')">üè† Trang ch·ªß</li>
      <li onclick="alert('T√≠nh nƒÉng ƒëang ph√°t tri·ªÉn')">‚≠ê T·ªß truy·ªán</li>
      <li onclick="alert('T√≠nh nƒÉng ƒëang ph√°t tri·ªÉn')">‚öôÔ∏è C√†i ƒë·∫∑t</li>
      <li onclick="closeMenu()">‚úï ƒê√≥ng</li>
    </ul>
  </div>
  <div id="overlay" onclick="closeMenu()"></div>

  <header>
    <button id="menuToggle">‚ò∞</button>
    <input type="text" id="searchInput" placeholder="T√¨m truy·ªán..." />
  </header>

  <h2 style="margin: 16px 10px 0;">üìö Danh s√°ch truy·ªán</h2>
  <div class="story-container">
    <main>
      <div id="storyListView" style="max-height: 60vh; overflow-y: auto; padding-right: 6px;">
        <div id="storyList"></div>
<div class="pagination" id="pagination" style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;"></div>
      </div>
      <div id="storyDetailView" style="display: none;"></div>
    </main>
  </div>
<!-- ·ª¶ng h·ªô admin -->
<div class="support-admin">
  <h3>üíñ ·ª¶ng h·ªô Admin</h3>
  <p>N·∫øu b·∫°n th·∫•y website h·ªØu √≠ch, h√£y ·ªßng h·ªô admin ƒë·ªÉ c√≥ th√™m ƒë·ªông l·ª±c duy tr√¨ v√† ph√°t tri·ªÉn nh√©!</p>
  <div class="donate-buttons">
    <a href="https://me.momo.vn/QDI7Tos6UBCVF8fQTDsdux/oQeZ8RNn4WYvbpZ" target="_blank">
      <button>üì± ·ª¶ng h·ªô qua MoMo</button>
    </a>
  </div>
</div>

<!-- Footer chuy√™n nghi·ªáp -->
<div class="footer">
  <div class="footer-column">
    <img src="https://i.imgur.com/zsdcZ9M.png" alt="Logo" style="width: 80px; margin-bottom: 10px;">
    <p>AudioTruyenTNT c√≥ nhi·ªÅu th·ªÉ lo·∫°i kh√°c nhau, t·ª´ truy·ªán c·ªï t√≠ch, ki·∫øm hi·ªáp, ma, ng√¥n t√¨nh ƒë·∫øn xuy√™n kh√¥ng, ƒë·ªìng nh√¢n, h·ªá th·ªëng...</p>
  </div>
  <div class="footer-column">
    <h4>üìä Th·ªÉ Lo·∫°i ƒê·ªìng Nh√¢n</h4>
    <ul>
      <li>ƒê·ªìng nh√¢n Onepiece</li>
      <li>ƒê·ªìng nh√¢n Hokage</li>
      <li>ƒê·ªìng nh√¢n ƒê·∫•u La</li>
      <li>ƒê·ªìng nh√¢n Marvel</li>
    </ul>
  </div>
  <div class="footer-column">
    <h4>üé§ Gi·ªçng ƒë·ªçc n·ªïi b·∫≠t</h4>
    <ul>
      <li>Qu·∫£ng A T≈©n</li>
      <li>Nguy·ªÖn Huy</li>
      <li>ƒê√¨nh So·∫°n</li>
      <li>MC Ti·∫øn Phong</li>
    </ul>
  </div>
  <div class="footer-column">
    <h4>üìà Th·ªëng k√™ truy c·∫≠p</h4>
    <ul>
      <li>Online: 1</li>
      <li>H√¥m nay: 39</li>
      <li>H√¥m qua: 56</li>
      <li>T·ªïng: 6.564</li>
    </ul>
  </div>
</div>
<div class="footer-bottom" style="text-align:center; color:#bbb; font-size:13px; margin-top: 16px;">
  ¬© Copyright 2025 - AudioTruyenTNT. All rights reserved.
</div>
  <script>
    const stories = [
      {
        id: "1",
        title: "ƒê√™m Khuya K·ªÉ Chuy·ªán Ma",
        description: "T·ªïng h·ª£p c√°c chuy·ªán ma r√πng r·ª£n k·ªÉ l√∫c n·ª≠a ƒë√™m.",
        cover: "https://picsum.photos/seed/truyen1/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√≥ng ƒê√™m", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" },
          { title: "T·∫≠p 2: Ng∆∞·ªùi ƒê√†n B√† M·∫∑c ƒê·ªè", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" }
        ]
      },
      {
        id: "2",
        title: "Truy·ªán Ng·∫Øn √ù Nghƒ©a",
        description: "Nh·ªØng c√¢u chuy·ªán ƒë·ªùi th∆∞·ªùng ƒë·∫ßy t√≠nh nh√¢n vƒÉn.",
        cover: "https://picsum.photos/seed/truyen2/300/300",
        chapters: [
          { title: "T·∫≠p 1: H·∫°t gi·ªëng t√¢m h·ªìn", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" }
        ]
      },
      {
        id: "3",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "4",
        title: "L∆∞∆°n l·∫πo",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "5",
        title: "Truy·ªán Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "6",
        title: "Truy·ªán iao",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "7",
        title: "Truy·ªán Cakabs",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "8",
        title: "Truy·ªán C∆∞n",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "9",
        title: "Truy·ªán C∆∞·ªùian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "10",
        title: "Truy·ªán Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "11",
        title: "Tru Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "12",
        title: "Truyian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "13",
        title: "Truy·ªán CGian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "14",
        title: "Truy·ªán Cn",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "15",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "16",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "17",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "18",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "19",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "20",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "21",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "22",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "23",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "24",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "25",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "26",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "27",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "28",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "29",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      },
      {
        id: "30",
        title: "Truy·ªán C∆∞·ªùi D√¢n Gian",
        description: "Nh·ªØng m·∫©u chuy·ªán vui gi·∫£i tr√≠, h√†i h∆∞·ªõc.",
        cover: "https://picsum.photos/seed/truyen3/300/300",
        chapters: [
          { title: "T·∫≠p 1: B√°c Ba Phi", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
          { title: "T·∫≠p 2: L√Ω th√¥ng ‚Äì Th·∫°ch Sanh", audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" }
        ]
      }
    ];

    const storyListEl = document.getElementById('storyList');
    const searchInput = document.getElementById('searchInput');
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    let currentIndex = 0;
    const storiesPerLoad = 5;
    let filteredStories = stories;

    menuToggle.addEventListener('click', () => {
      sidebar.classList.add('active');
      overlay.classList.add('active');
    });

    function closeMenu() {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
    }

        function openPlayer(story) {
      closeMenu();
      document.getElementById('storyListView').style.display = 'none';
      const detailView = document.getElementById('storyDetailView');
      detailView.style.display = 'block';

      const firstChapter = story.chapters[0];
const saved = JSON.parse(localStorage.getItem('audioStatus') || '{}');

let chapterToPlay = story.chapters[0];
if (saved.audioSrc && story.chapters.some(ch => ch.audio === saved.audioSrc)) {
  chapterToPlay = story.chapters.find(ch => ch.audio === saved.audioSrc);
}
const audioTitle = chapterToPlay.title;

      detailView.innerHTML = `
  <h2>${story.title}</h2>
  <img src="${story.cover}" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 8px;" />
  <div style="margin-top: 10px; font-size: 14px; color: #ccc;">${story.description}</div>
  <div class="audio-player" style="margin-top: 10px;">
  <p style="margin-bottom: 8px; color: #f76da4;">
    üéß ƒêang ph√°t: <span id="currentChapterTitle">${audioTitle}</span>
  </p>
  <audio id="audioPlayer" src="${chapterToPlay.audio}"></audio>
  <input type="range" id="progressBar" value="0" step="1" min="0" max="100" style="width: 100%; margin: 6px 0;">
  <div style="font-size: 13px; color: #aaa;">
    ‚è± <span id="currentTime">00:00</span> / <span id="duration">00:00</span>
  </div>
  <div class="controls">
            <button id="rewindBtn">‚è™ 10s</button>
            <button id="playPauseBtn">‚ñ∂Ô∏è</button>
            <button id="forwardBtn">10s ‚è©</button>
            <label>
              üîä T·ªëc ƒë·ªô:
              <input type="range" id="speedSlider" min="0.5" max="5" step="0.1" value="1">
              <span id="speedValue">1.0x</span>
            </label>
          </div>
        </div>
        <div id="chapterList" style="margin-top: 16px;">
          <h3>üéß Danh s√°ch t·∫≠p:</h3>
          <ul style="padding-left: 20px; margin-top: 6px;" id="chapterUl">
            ${story.chapters.map((ch, index) =>
              `<li style="margin-bottom: 8px; cursor: pointer; color: #f76da4;" onclick="playChapter('${ch.audio}', this)">
                ${ch.title}
              </li>`).join('')}
          </ul>
        </div>
        <button class="back-btn" onclick="backToList()">üîô Quay l·∫°i</button>
      `;

      setTimeout(() => {
        const audio = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playPauseBtn');
        const rewindBtn = document.getElementById('rewindBtn');
        const forwardBtn = document.getElementById('forwardBtn');
        const speedSlider = document.getElementById('speedSlider');
const progressBar = document.getElementById('progressBar');
const currentTimeDisplay = document.getElementById('currentTime');
const durationDisplay = document.getElementById('duration');
// L∆∞u tr·∫°ng th√°i khi r·ªùi kh·ªèi web
window.addEventListener('beforeunload', () => {
  const audio = document.getElementById('audioPlayer');
  const currentChapterTitle = document.getElementById('currentChapterTitle')?.textContent || '';
  const speed = audio.playbackRate;
  const currentTime = audio.currentTime;
  const src = audio.src;
// C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh + th·ªùi gian
audio.addEventListener('timeupdate', () => {
  const current = audio.currentTime;
  const total = audio.duration;

  progressBar.value = (current / total) * 100 || 0;
  currentTimeDisplay.textContent = formatTime(current);
  durationDisplay.textContent = isNaN(total) ? '00:00' : formatTime(total);
});

// Cho ph√©p k√©o thanh ti·∫øn tr√¨nh
progressBar.addEventListener('input', () => {
  audio.currentTime = (progressBar.value / 100) * audio.duration;
});

// H√†m ƒë·ªãnh d·∫°ng th·ªùi gian
function formatTime(t) {
  const m = Math.floor(t / 60);
  const s = Math.floor(t % 60);
  return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
}

// N·∫øu c√≥ tr·∫°ng th√°i ƒë√£ l∆∞u, kh√¥i ph·ª•c
if (saved.audioSrc === chapterToPlay.audio) {
  audio.currentTime = saved.currentTime || 0;
  audio.playbackRate = saved.speed || 1;
  speedSlider.value = saved.speed || 1;
  document.getElementById('speedValue').textContent = audio.playbackRate.toFixed(1) + 'x';
  document.getElementById('currentChapterTitle').textContent = saved.chapterTitle || audioTitle;
}

  localStorage.setItem('audioStatus', JSON.stringify({
    chapterTitle: currentChapterTitle,
    audioSrc: src,
    speed: speed,
    currentTime: currentTime
  }));
});

audio.addEventListener('timeupdate', () => {
  const current = audio.currentTime;
  const total = audio.duration;

  progressBar.value = (current / total) * 100 || 0;

  currentTimeDisplay.textContent = formatTime(current);
  durationDisplay.textContent = isNaN(total) ? '00:00' : formatTime(total);
});

progressBar.addEventListener('input', () => {
  audio.currentTime = (progressBar.value / 100) * audio.duration;
});

function formatTime(time) {
  const minutes = Math.floor(time / 60);
  const seconds = Math.floor(time % 60);
  return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

        playBtn.addEventListener('click', () => {
          if (audio.paused) {
            audio.play();
            playBtn.textContent = '‚è∏';
          } else {
            audio.pause();
            playBtn.textContent = '‚ñ∂Ô∏è';
          }
        });

        rewindBtn.addEventListener('click', () => {
          audio.currentTime -= 10;
        });

        forwardBtn.addEventListener('click', () => {
          audio.currentTime += 10;
        });

        speedSlider.addEventListener('input', () => {
          const rate = parseFloat(speedSlider.value);
          audio.playbackRate = rate;
          document.getElementById('speedValue').textContent = rate.toFixed(1) + 'x';
        });
      }, 100);
    }

    function playChapter(audioURL, element) {
  const audio = document.getElementById('audioPlayer');
  audio.src = audioURL;
  audio.play();
  document.getElementById('playPauseBtn').textContent = '‚è∏';

  document.getElementById('currentChapterTitle').textContent = element.textContent;

  const allItems = document.querySelectorAll('#chapterUl li');
  allItems.forEach(li => li.style.fontWeight = 'normal');
  element.style.fontWeight = 'bold';
// Ghi l·∫°i tr·∫°ng th√°i m·ªõi v√†o localStorage
localStorage.setItem('audioStatus', JSON.stringify({
  chapterTitle: element.textContent,
  audioSrc: audioURL,
  speed: audio.playbackRate,
  currentTime: 0
}));
}

    function backToList() {
      document.getElementById('storyDetailView').style.display = 'none';
      document.getElementById('storyListView').style.display = 'block';
      
let currentPage = 1;
const storiesPerPage = 30;

function renderPage(storyList) {
  const start = (currentPage - 1) * storiesPerPage;
  const end = start + storiesPerPage;
  const paginatedStories = storyList.slice(start, end);
  storyListEl.innerHTML = '';

  paginatedStories.forEach(story => {
    const card = document.createElement('div');
    card.className = 'story-card';
    card.onclick = () => openPlayer(story);
    card.innerHTML = `
      <div class="story-header">
        <img src="${story.cover}" alt="${story.title}" />
        <div class="story-info">
          <h3>${story.title}</h3>
          <p>üìë ${story.chapters.length} t·∫≠p</p>
        </div>
      </div>
    `;
    storyListEl.appendChild(card);
  });

  renderPagination(storyList);
}

function renderPagination(storyList) {
  const pageCount = Math.ceil(storyList.length / storiesPerPage);
  const paginationEl = document.getElementById('pagination');
  paginationEl.innerHTML = '';

  for (let i = 1; i <= pageCount; i++) {
    const btn = document.createElement('button');
    btn.textContent = i;
    btn.className = (i === currentPage) ? 'active' : '';
    btn.onclick = () => {
      currentPage = i;
      renderPage(filteredStories);
    };
    paginationEl.appendChild(btn);
  }
}

init();
    }

    function showTab(tab) {
      closeMenu();
      if (tab === 'home') {
        backToList();
      }
    }

    
searchInput.addEventListener('input', () => {
  const keyword = searchInput.value.toLowerCase();
  filteredStories = stories.filter(s => s.title.toLowerCase().includes(keyword));
  currentPage = 1;
renderPage(filteredStories);
    });

    

    
function init() {
  filteredStories = stories;
  storyListEl.innerHTML = '';
  filteredStories.forEach(story => {
    const card = document.createElement('div');
    card.className = 'story-card';
    card.onclick = () => openPlayer(story);
    card.innerHTML = `
      <div class="story-header">
        <img src="${story.cover}" alt="${story.title}" />
        <div class="story-info">
          <h3>${story.title}</h3>
          <p>üìë ${story.chapters.length} t·∫≠p</p>
        </div>
      </div>
    `;
    storyListEl.appendChild(card);
  });
}


    
let currentPage = 1;
const storiesPerPage = 30;

function renderPage(storyList) {
  const start = (currentPage - 1) * storiesPerPage;
  const end = start + storiesPerPage;
  const paginatedStories = storyList.slice(start, end);
  storyListEl.innerHTML = '';

  paginatedStories.forEach(story => {
    const card = document.createElement('div');
    card.className = 'story-card';
    card.onclick = () => openPlayer(story);
    card.innerHTML = `
      <div class="story-header">
        <img src="${story.cover}" alt="${story.title}" />
        <div class="story-info">
          <h3>${story.title}</h3>
          <p>üìë ${story.chapters.length} t·∫≠p</p>
        </div>
      </div>
    `;
    storyListEl.appendChild(card);
  });

  renderPagination(storyList);
}

function renderPagination(storyList) {
  const pageCount = Math.ceil(storyList.length / storiesPerPage);
  const paginationEl = document.getElementById('pagination');
  paginationEl.innerHTML = '';

  for (let i = 1; i <= pageCount; i++) {
    const btn = document.createElement('button');
    btn.textContent = i;
    btn.className = (i === currentPage) ? 'active' : '';
    btn.onclick = () => {
      currentPage = i;
      renderPage(filteredStories);
    };
    paginationEl.appendChild(btn);
  }
}

init();
  </script>
</body>
</html>
